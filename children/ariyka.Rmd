First, let us take a look at how we can use Manipulate to understand our data in a quick and easy manner.

For this example, we use the inbuilt R dataset called attitude - The Chatterjee Price Attitude Data Set.

According to the R documentation, this data set includes aggregated data from a survey of approximately 35 clerical employees in each of the 30 randomly selected departments at a large financial organization. The numbers denote the percent proportion of favorable responses to 7 questions in each department.

The 7 questions are:

1.	Rating - overall rating
2.	Complaints - handling of employee complaints
3.	Privileges - allowance of special privileges
4.	Learning - opportunity to learn
5.	Raises - performance-base raises
6.	Critical - too critical
7.	Advance - advancement

To show how the picker can be used, we make a scatterplot and trend line with 'rating' on the y-axis and another variable on the x-axis. We can do this using the ggplot2 functions ggplot(), geom_point() and geom_smooth(). 

We create 2 pickers, x.variable, which contains a list of all the different variables or in this case, questions mentioned above that can be plotted on the x-axis and method, which contains a list of all the smoothing methods that can be used in geom_smooth(). 

The methods are:

- lm - to fit a linear model
- glm - to fit a generalized linear model
- gam - to fit a generalized additive model
- loess - to fit a polynomial surface (point-fitting)
- rlm - to fit a linear model by robust regression

Here is the basic code. 
```{r eval=FALSE}
# Note that aes_string() is used instead of aes().
# This is to allow input of a string.
manipulate(
  ggplot(attitude, aes_string(x = x.variable,y = "rating"))+
    geom_point() + geom_smooth(method = method),
  # Create 2 picker options:
  # 1. x.variable, which contains the names of all the categories
  # that can be plotted on the x axis.
  # 2. method, which contains the different methods of smoothing
  # that can be used to smooth the data.
  # x.variable and method can be altered using the pickers.
  x.variable = picker("rating","complaints","privileges",
                      "learning","raises","critical","advance"),
  method = picker("lm", "glm", "gam", "loess", "rlm")
)
```

When we run the code above, we obtain the following output.

```{r echo = FALSE}
knitr::include_graphics("children/images/ariyka_img1.png")
```

Since, 'rating' has been plotted against 'rating', we have a perfectly straight best fit line along y=x.

If we were to change the x-axis to 'learning' instead of 'rating', what type of correlation do we expect between the 2 variables?

Generally, we would expect the availability of opportunities for employees to learn to be positively correlated with the overall rating, right?
Now, let us change the variable on the x-axis from 'rating' to 'learning' and take a look at what the data tells us. 

We obtain the following output.

```{r echo = FALSE}
knitr::include_graphics("children/images/ariyka_img2.png")
```

As we can see, the data meets our expectation. By using the picker to switch between multiple categories on the x-axis, we can draw quick inferences about how each variable is correlated with the overall rating instead of having to edit our code over and over again.

Next, let us try to change our method of smoothing using the 'method' picker. 
When we change method from 'lm' to 'loess', we obtain the following output.

```{r echo = FALSE}
knitr::include_graphics("children/images/ariyka_img3.png")
```

Clearly, this graph looks very different from our previous one. Instead of the straight line generated by using the linear model option 'lm', we have a smooth curve generated by using the point-fitting option, 'loess'. Once again, it is much more convenient to change the method of smoothing using the picker option as opposed to altering the code each time.
